<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pemilihan Ketua Himpunan Mahasiswa Elektro</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .candidate { display: inline-block; margin: 20px; text-align: center; }
        img { width: 150px; height: auto; border-radius: 10px; }
        button { margin-top: 10px; padding: 10px; background: #004aad; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #3b82f6; }
    </style>
</head>
<body>
    <h1>Pemilihan Ketua Himpunan Mahasiswa Elektro</h1>
    <h2>Universitas Jember - Periode 2025</h2>

    <!-- Kandidat 1 -->
    <div class="candidate">
        <img src="1.jpg" alt="Kandidat 1">
        <h3>Calon 1</h3>
        <p>Visi: Membangun organisasi yang lebih baik.<br>Misi: Transparansi dan inovasi.</p>
        <button class="vote-button" data-kandidat="Kandidat 1">Pilih</button>
    </div>

    <!-- Kandidat 2 -->
    <div class="candidate">
        <img src="2.jpg" alt="Kandidat 2">
        <h3>Calon 2</h3>
        <p>Visi: Memberikan kontribusi nyata.<br>Misi: Keterbukaan dan keberlanjutan.</p>
        <button class="vote-button" data-kandidat="Kandidat 2">Pilih</button>
    </div>

    <!-- Kandidat 3 -->
    <div class="candidate">
        <img src="3.jpg" alt="Kandidat 3">
        <h3>Calon 3</h3>
        <p>Visi: Membawa perubahan positif.<br>Misi: Kolaborasi dan kebersamaan.</p>
        <button class="vote-button" data-kandidat="Kandidat 3">Pilih</button>
    </div>

    <!-- Tombol Logout -->
    <div style="margin-top: 30px;">
        <button onclick="logout()">Logout</button>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js"></script>

    <script>
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCk0MKkFLR6GWlbVWw6PwV0eXyHTVKEoVI",
  authDomain: "e-voting-hme-2025.firebaseapp.com",
  databaseURL: "https://e-voting-hme-2025-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "e-voting-hme-2025",
  storageBucket: "e-voting-hme-2025.firebasestorage.app",
  messagingSenderId: "109600283344",
  appId: "1:109600283344:web:920745c831eaa312665cd5",
  measurementId: "G-TC906L46K5"
};
        // Inisialisasi Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Simpan voting ke Firebase
        function simpanVoting(kandidat, username) {
            database.ref("voting").push({
                kandidat: kandidat,
                username: username,
                timestamp: new Date().toISOString()
            }).then(() => {
                alert("Voting berhasil!");
            }).catch(error => {
                console.error("Error:", error.message);
                alert("Terjadi kesalahan. Coba lagi.");
            });
        }

        // Event tombol voting
        document.querySelectorAll(".vote-button").forEach(button => {
            button.addEventListener("click", function() {
                const kandidat = this.getAttribute("data-kandidat");
                const username = "User123"; // Contoh username
                simpanVoting(kandidat, username);
            });
        });

        // Fungsi Logout
        function logout() {
            window.location.href = "index.html";
        }
    </script>
</body>
</html>
